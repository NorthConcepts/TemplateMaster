[#ftl]
[#setting url_escaping_charset="UTF-8"]

<div class="crud crud-list">
<form method="post" action="${(action)!?html}" class="${formDef.cssStyleClass!}" id="${formDef.id!?html}-edit-form">

<div class="box box-primary">
  <div class="box-header">
    <div class="row">
      <div class="col-xs-4">
        <div class="box-title">${title!?html}</div>
      </div>
      <div class="col-xs-8">
        ${listPager!}
      </div>
    </div>
    <div class="row" style="margin-top: 1em;">
    </div>
  </div>
  
  <div class="box-body" style="margin-top: 0; padding-top: 0;">
    <div class="table-responsive"> 
      <table id="${formDef.id!}" class="display table table-bordered table-hover crud-list-table ${formDef.cssStyleClass!}" cellspacing="0">
          <thead>
              <tr>
                  <th width="1px">#</th>
                  [#list formDef.listFields as field]
                    [#if field.showInSelectList]
                        <th>${field.displayName}</th>
                    [/#if]
                  [/#list]
                  <th class="col-sm-1">Actions</th>
              </tr>
          </thead>
          <tbody>
            [#list page.content as record]
                [#assign selectUrl=(callbackUrl.setQueryParam('selected', record.id))!]
                <tr>
                  <td>${record?index + 1}</td>
                  [#list formDef.listFields as field]
                    [#if field.showInSelectList]
                        <td><a href="${selectUrl!}">${field.getDisplayValueHtmlEscaped(resource, record, record[field.name])!}</a></td>
                    [/#if]
                  [/#list]
                  <td class="actions">
                      <a href="${selectUrl!}">Select</a>
                  </td>
                </tr>
            [/#list]
          </tbody>
      </table>
    </div>
  </div>
  <!-- /.box-body -->
  <div class="box-footer">
    <div class="row">
      <div class="col-sm-6">
      </div>
      <div class="col-sm-6">
        ${listPager!}
      </div>
    </div>
  </div>
</div>
<!-- /.box -->

</form>
</div>

